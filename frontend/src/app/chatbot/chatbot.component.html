<div class="chatbot-container">
  <!-- Toggle Button -->
  <button class="chat-toggle" (click)="toggleChat()" *ngIf="!isOpen">
    <i class="fas fa-comments"></i>
    <span class="pulse"></span>
  </button>

  <!-- Chat Window -->
  <div class="chat-window" *ngIf="isOpen">
    <!-- Header -->
    <div class="chat-header">
      <div class="chat-header-info">
        <div class="bot-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="bot-details">
          <h4>Shashi</h4>
          <span class="status">
            <span class="status-dot"></span> Online
          </span>
        </div>
      </div>
      <button class="close-btn" (click)="closeChat()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Messages Area -->
    <div class="chat-messages">
      <div *ngFor="let message of messages" 
           class="message"
           [class.user-message]="message.isUser"
           [class.bot-message]="!message.isUser">
        <div class="message-content">
          <p>{{ message.text }}</p>
          <span class="timestamp">{{ message.timestamp | date:'shortTime' }}</span>
        </div>
      </div>
      
      <!-- Typing Indicator -->
      <div class="typing-indicator" *ngIf="isTyping">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <button *ngFor="let action of quickActions" 
              (click)="handleQuickAction(action.label)"
              class="quick-action-btn">
        <i class="fas {{ action.icon }}"></i>
        {{ action.label }}
      </button>
    </div>

    <!-- Input Area -->
    <div class="chat-input-area">
      <input type="text" 
             [(ngModel)]="userInput" 
             (keypress)="onKeyPress($event)"
             placeholder="Type your message..."
             class="chat-input">
      <button (click)="sendMessage()" class="send-btn">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>
</div>
